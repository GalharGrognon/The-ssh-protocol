# The-ssh-protocol
I'll show you how to set up the ssh protocol, configure fail2ban and set up wireshark on the remote server on port 2222.

## 1.Introduction to SSH and Remote Access
<p>To start with, I'm going to connect to my ssh server using an ionos vps remote server running linux unbutu.</p><p>To do this, I'm going to use the ssh command :<br>ssh root@ipadress</p><p>We need to connect to root to create a user, to do this we need to type a command: <p>adduser username</p><p>When we have created our user, we connect to it and it will ask us to enter the password we have created for the user:</p><p>ssh username@ipadress<p>username@ipadress's password:</p>

## 2.SSH Key Authentication
<p>Once the user has been created, we go back to the local machine and make an SSH key connection using the command :</p><p>ssh-keygen -t ed25519</p><p>The key is in two parts: the private key, which is encrypted and must not be shared, and the public key, which can be shared to decrypt the private key.</p><p>The private key is stored in ~/.ssh/id_rsa and the public key in
~/.ssh/id_rsa.pub.</p><p>Once our key has been created, we'll copy the public key to our remote server and connect without the password prompt using this command:</p><p>ssh-copy-id username@ipadress</p><p>There is still one step to connect to the key without requesting the password, we must access our file on the remote server:</p><p>sudo nano /etc/ssh/sshd_config</p><p>Once in this file, the line is modified:</p><p>PasswordAuthentication no</p><p>Once done, restart the remote server with this command:</p><p>sudo systemctl restart ssh</p><p>We then test this connection with the user with whom we created the key:</p><p>ssh username@ipadress</p>

## 3.File Transfer with SCP and SFTP
<p>We're going to transfer a file using SCP and SFTP to our remote server, starting by going back to our local machine to create a txt file:</p><p>echo "This is a test file" > file.txt</p><p>We will then transfer this file to the remote server:</p><p>scp file.txt username@ipadress:/home/username/</p><p>Next, we'll check whether the file is present on the remote server:</p><p>We will then use SFTP, which, unlike SCP, allows interrupted file transfers to be resumed. Error and warning management: SFTP offers built-in mechanisms for handling errors and warnings, whereas SCP does not, with this command, we access the SFTP service:</p><p>sftp username@ipadress</p><p>Next, we want to browse remote directories:</p><p>ls</p><p>cd /home/username/</p><p>Then we transfer the file to the local machine using SFTP:</p><p>put file.txt</p>

## 4. Creating SSH tunnels and port forwarding
<p>To set our Port 2222, we need to access our server on the ionos site and access the networks tab on the left, the firewall strategy sub-section once inside, we open by clicking on the strategy, we see different ports, we add port 2222 and we validate the server will relaunch its firewall, taking 2222 into account, but that's not all to connect to port 2222.</p><p>To access our 2222 port, we need to go back to our remote server and set up UFW on it. I'll give you a direct link to a tutorial on how to set up UFW correctly: https://www.digitalocean.com/community/tutorials/how-to-set-up-a-firewall-with-ufw-on-ubuntu-20-04-fr</p>
